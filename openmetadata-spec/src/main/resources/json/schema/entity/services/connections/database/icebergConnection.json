{
  "$id": "https://open-metadata.org/schema/entity/services/connections/database/icebergConnection.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "IcebergConnection",
  "description": "Iceberg Catalog Connection Config",
  "type": "object",
  "javaType": "org.openmetadata.schema.services.connections.database.IcebergConnection",
  "definitions": {
    "icebergType": {
      "description": "Service type.",
      "type": "string",
      "enum": [
        "Iceberg"
      ],
      "default": "Iceberg"
    }
  },
  "properties": {
    "type": {
      "title": "Service Type",
      "description": "Service Type",
      "$ref": "#/definitions/icebergType",
      "default": "Iceberg"
    },
    "catalog": {
      "title": "Catalog",
      "description": "Iceberg Catalog configuration.",
      "type": "object",
      "properties": {
        "name": {
          "title": "Name",
          "description": "Catalog Name.",
          "type": "string"
        },
        "connection": {
          "title": "Connection",
          "description": "Catalog connection configuration, depending on your catalog type.",
          "oneOf": [
            {
              "$ref": "./iceberg/hiveCatalogConnection.json"
            },
            {
              "$ref": "./iceberg/restCatalogConnection.json"
            },
            {
              "$ref": "./iceberg/glueCatalogConnection.json"
            },
            {
              "$ref": "./iceberg/dynamoDbCatalogConnection.json"
            }
          ]
        },
        "databaseName": {
          "title": "Database Name",
          "description": "Custom Database Name for your Iceberg Service. If not set it will be 'default'.",
          "type": "string"
        },
        "warehouseLocation": {
          "title": "Warehouse Location",
          "description": "Warehouse Location. Used to specify a custom warehouse location if needed.",
          "type": "string"
        }
      },
      "additionalProperties": false,
      "required": [
        "name",
        "connection"
      ]
    },
    "ownershipProperty": {
      "title": "Ownership Property",
      "description": "Table property to look for the Owner.",
      "type": "string",
      "default": "owner"
    },
    "supportsMetadataExtraction": {
      "title": "Supports Metadata Extraction",
      "$ref": "../connectionBasicType.json#/definitions/supportsMetadataExtraction"
    }
  },
  "additionalProperties": false,
  "required": [
    "catalog"
  ]
}
